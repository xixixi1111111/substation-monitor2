# 变电站机子信息管理系统 (PWA本地版)

一个完全基于手机的本地应用，数据存储在手机上，支持离线使用和局域网同步。

## 功能特性

- ✅ **完全本地存储**：使用IndexedDB存储所有数据，无需后端服务器
- ✅ **离线可用**：PWA支持，没网络也能使用
- ✅ **手机桌面安装**：可安装到手机桌面，像原生APP一样使用
- ✅ **局域网同步**：同一局域网内多设备数据同步
- ✅ 变电站选择和管理
- ✅ 可配置的机子分布地图（网格布局）
- ✅ 机子信息查看和编辑
- ✅ 拍照功能
- ✅ 响应式设计，适配手机屏幕

## 使用方式

### 方式一：使用Python服务器（推荐用于开发和测试）

1. 安装依赖：
```bash
pip install -r requirements.txt
```

2. 运行应用：
```bash
python app.py
```

3. 在手机浏览器中访问：
```
http://你的电脑IP:5000
```

### 方式二：直接部署到手机（完全离线）

将整个项目部署到任何静态网页托管服务，然后通过手机浏览器访问：

1. **GitHub Pages**（免费）：
   - 将项目上传到GitHub仓库
   - 启用GitHub Pages
   - 通过网址访问

2. **Vercel**（免费）：
   - 安装Vercel CLI：`npm i -g vercel`
   - 在项目目录运行：`vercel`
   - 获取访问网址

## 安装到手机桌面

1. 用手机浏览器访问应用网址
2. **Android Chrome**：点击右上角菜单 → "添加到主屏幕"
3. **iPhone Safari**：点击分享按钮 → "添加到主屏幕"
4. 安装后，手机桌面会出现"变电站管理"图标

## 数据存储

- 所有数据存储在浏览器本地的IndexedDB中
- 数据完全保存在当前设备上
- 清除浏览器缓存会丢失数据
- 建议定期使用局域网同步功能备份数据

## 局域网同步

1. 在一台设备上点击"开始广播"
2. 记住显示的IP地址
3. 在其他设备上点击"连接其他设备"
4. 输入主机IP地址
5. 点击"开始广播"的设备会收到同步请求
6. 同意后数据将自动同步

## 技术栈

- 前端：HTML5 + CSS3 + JavaScript
- 数据存储：IndexedDB
- PWA：Service Worker + Manifest
- 同步：WebRTC + BroadcastChannel

## 注意事项

- 数据仅存储在当前设备上，更换设备需要重新录入
- 建议多台设备使用时，定期同步数据
- 清除浏览器缓存会导致数据丢失
- 拍照功能需要授予摄像头权限
